<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NFT Utility Factory — Discord Bot Configurator</title>
  <meta name="description" content="UI-only Discord bot configurator for templates like Verification, Raffles, Alerts, Role-gating, Payments." />
  <link rel="stylesheet" href="/css/styles.css" />
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen">
  <header class="navbar glass">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 flex items-center justify-between">
    <a href="/" class="flex items-center gap-3">
      <img src="/images/Logo.jpg" alt="NFT Utility Factory" class="w-10 h-10 rounded-full"/>
      <span class="font-semibold tracking-wide">NFT Utility Factory</span>
    </a>
    <nav class="hidden md:flex items-center gap-6 text-sm text-zinc-300">
      <a href="/pages/staking.html" class="hover:text-white">Staking</a>
      <a href="/pages/airdrop.html" class="hover:text-white">Airdrop</a>
      <a href="/pages/discord-bot.html" class="hover:text-white">Discord Bot</a>
      <a href="/pages/lottery.html" class="hover:text-white">Lottery</a>
      <a href="/pages/pawnshop.html" class="hover:text-white">Pawn Shop</a>
      <a href="/pages/partner-casino.html" class="hover:text-white">Partner Casino</a>
      <a href="/pages/browser-game.html" class="hover:text-white">Browser Game</a>
      <a href="/index.html#contact" class="hover:text-white">Contact</a>
    </nav>
    <div class="flex items-center gap-2">
      <select id="walletSelect" class="hidden md:block px-3 py-2 rounded-xl glass text-sm"></select>
      <button id="connectBtn" class="btn btn-muted">Connect Wallet</button>
      <button id="disconnectBtn" class="btn btn-muted hidden">Disconnect</button>
    </div>
  </div>
</header>

  <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10">
    <section class="glass rounded-2xl p-5">
      <h1 class="text-2xl font-bold">Discord Bot Configurator (UI‑only)</h1>
      <p class="small mt-1">Create your bot from templates. Replace the final “Create Bot” action with your server call when ready.</p>

      <div class="grid lg:grid-cols-3 gap-6 mt-4">
        <div class="lg:col-span-2 grid sm:grid-cols-2 gap-4">
          <div>
            <label class="small">Template</label>
            <select id="tpl" class="w-full glass px-3 py-2 rounded-xl">
              <option value="verify">Verification</option>
              <option value="raffle">Raffles</option>
              <option value="alerts">Blockchain Alerts</option>
              <option value="gate">Role‑gating</option>
              <option value="payments">Payments</option>
            </select>
          </div>
          <div>
            <label class="small">Bot Name</label>
            <input id="name" class="w-full glass px-3 py-2 rounded-xl" placeholder="e.g., UtilityFactoryBot" />
          </div>
          <div>
            <label class="small">Server ID</label>
            <input id="server" class="w-full glass px-3 py-2 rounded-xl" placeholder="123456789012345678" />
          </div>
          <div>
            <label class="small">Public Key (optional)</label>
            <input id="pub" class="w-full glass px-3 py-2 rounded-xl" placeholder="For slash command verification" />
          </div>
          <div class="sm:col-span-2">
            <label class="small">Avatar</label>
            <input id="avatar" type="file" accept="image/*" class="w-full glass px-3 py-2 rounded-xl" />
          </div>
          <div class="sm:col-span-2">
            <label class="small">Features</label>
            <div class="grid sm:grid-cols-2 gap-3 mt-2 text-sm">
              <label class="glass rounded-xl p-3 flex items-center gap-2"><input type="checkbox" class="accent-yellow-400" data-k="slash"/> Slash Commands</label>
              <label class="glass rounded-xl p-3 flex items-center gap-2"><input type="checkbox" class="accent-yellow-400" data-k="buttons"/> Buttons & Selects</label>
              <label class="glass rounded-xl p-3 flex items-center gap-2"><input type="checkbox" class="accent-yellow-400" data-k="webhooks"/> Webhooks</label>
              <label class="glass rounded-xl p-3 flex items-center gap-2"><input type="checkbox" class="accent-yellow-400" data-k="oauth"/> OAuth2 Install</label>
              <label class="glass rounded-xl p-3 flex items-center gap-2"><input type="checkbox" class="accent-yellow-400" data-k="db"/> Persistent Storage</label>
              <label class="glass rounded-xl p-3 flex items-center gap-2"><input type="checkbox" class="accent-yellow-400" data-k="sched"/> Schedules/Cron</label>
            </div>
          </div>
          <div class="sm:col-span-2">
            <label class="small">Required Permissions</label>
            <div class="grid sm:grid-cols-3 gap-2 mt-2 text-sm">
              <label class="glass rounded-xl p-2 flex items-center gap-2"><input type="checkbox" class="accent-yellow-400"/> Read Messages</label>
              <label class="glass rounded-xl p-2 flex items-center gap-2"><input type="checkbox" class="accent-yellow-400"/> Send Messages</label>
              <label class="glass rounded-xl p-2 flex items-center gap-2"><input type="checkbox" class="accent-yellow-400"/> Manage Roles</label>
              <label class="glass rounded-xl p-2 flex items-center gap-2"><input type="checkbox" class="accent-yellow-400"/> Kick/Ban (optional)</label>
              <label class="glass rounded-xl p-2 flex items-center gap-2"><input type="checkbox" class="accent-yellow-400"/> Embed Links</label>
              <label class="glass rounded-xl p-2 flex items-center gap-2"><input type="checkbox" class="accent-yellow-400"/> Use External Emojis</label>
            </div>
          </div>
        </div>

        <aside class="glass rounded-2xl p-5">
          <h2 class="font-semibold">Install Guide</h2>
          <ol class="list-decimal pl-5 mt-2 small space-y-1">
            <li>Pick a template and features.</li>
            <li>Fill server ID and permissions.</li>
            <li>Click <b>Create Bot</b> — we’ll give you an install link.</li>
            <li>Invite to your Discord and run <code>/setup</code>.</li>
          </ol>
          <div class="mt-4"><button class="btn btn-primary" onclick="createBot()">Create Bot</button></div>
          <div id="botOut" class="mt-3 small"></div>
        </aside>
      </div>
    </section>
  </main>

  <script>
    function createBot(){
      const name=document.getElementById('name').value||'MyUtilityBot';
      const server=document.getElementById('server').value||'(server id)';
      const tpl=document.getElementById('tpl').value;
      const url=`https://discord.com/api/oauth2/authorize?client_id=YOUR_CLIENT_ID&scope=bot%20applications.commands&permissions=MANAGE_ROLES`;
      document.getElementById('botOut').innerHTML=`<div class='glass rounded-xl p-3'>Template: <b>${tpl}</b><br/>Server: <b>${server}</b><br/>Install link (placeholder): <a class='text-yellow-300 underline' href='${url}' target='_blank'>Authorize ${name}</a></div>`;
    }
  </script>

  <!-- Multi‑wallet (optional here) -->
  <script src="https://unpkg.com/@solana/web3.js@1.95.3/lib/index.iife.js"></script>
  <script>
    const CLUSTER='mainnet-beta';
    const ENDPOINT=(CLUSTER==='devnet')?'https://api.devnet.solana.com':'https://api.mainnet-beta.solana.com';
    let connection=null,activeProvider=null;const connectBtn=document.getElementById('connectBtn');const disconnectBtn=document.getElementById('disconnectBtn');const walletSelect=document.getElementById('walletSelect');
    function asArray(x){return Array.isArray(x)?x:(x?[x]:[]);}function labelForProvider(p){if(p?.isPhantom)return'Phantom';if(p?.isSolflare)return'Solflare';if(p?.isBackpack||p?.name==='Backpack')return'Backpack';if(p?.wallet?.name)return p.wallet.name;return'Wallet'}
    function getAllProviders(){const w=window;const s=new Set();asArray(w?.solana?.providers).forEach(p=>p&&s.add(p));if(w?.solana&&!asArray(w.solana.providers).length)s.add(w.solana);if(w?.backpack?.solana)s.add(w.backpack.solana);if(w?.phantom?.solana)s.add(w.phantom.solana);if(w?.solflare)s.add(w.solflare);return Array.from(s)}
    function populateWalletSelect(){const ps=getAllProviders();walletSelect.innerHTML='';ps.forEach((p,i)=>{const o=document.createElement('option');o.value=i;o.textContent=labelForProvider(p);walletSelect.appendChild(o)});walletSelect.classList.toggle('hidden',ps.length<=1);return ps}
    async function connectSelected(){const ps=populateWalletSelect();if(ps.length===0){window.open('https://phantom.app/','_blank');return}const idx=parseInt(walletSelect.value||'0',10)||0;const provider=ps[idx];try{const res=await provider.connect();activeProvider=provider;connection=new solanaWeb3.Connection(ENDPOINT,'confirmed');connectBtn.classList.add('hidden');disconnectBtn.classList.remove('hidden')}catch(e){alert('Failed to connect wallet.')}}
    async function disconnectSelected(){try{await activeProvider?.disconnect?.()}catch(e){}activeProvider=null;connectBtn.classList.remove('hidden');disconnectBtn.classList.add('hidden')}
    connectBtn.addEventListener('click',connectSelected);disconnectBtn.addEventListener('click',disconnectSelected);
    for(const p of ps){try{const res=await p.connect({onlyIfTrusted:true});if(res?.publicKey||p.publicKey){activeProvider=p;connection=new solanaWeb3.Connection(ENDPOINT,'confirmed');connectBtn.classList.add('hidden');disconnectBtn.classList.remove('hidden');break}}catch(_){} }})
  </script>
</body>
</html>
